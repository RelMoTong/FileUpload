# v3.1.0 更新说明

**发布日期**: 2025年11月27日

## 新功能

### 1. 断点续传支持 (Resumable Upload)
- 大文件上传中断后可以从断点恢复
- 自动保存上传进度到本地
- 程序重启后自动检测并恢复未完成的上传任务
- 支持 SMB 和 FTP 协议的断点续传

### 2. 中英文界面切换 (Multi-language Support)
- 支持简体中文和英文界面
- 点击菜单 **🌐 语言** 即可切换
- 语言切换后界面即时刷新，无需重启
- 覆盖所有主要界面元素：
  - 卡片标题、按钮、状态标签
  - 状态芯片（已上传、失败、跳过等）
  - 菜单项、对话框
  - FTP 配置表单
  - 高级选项区域

## Bug 修复

### 配置加载问题修复
- 修复启动时配置文件无法正确加载的问题
- 修复 "无可用配置，请联系管理员" 错误
- 修复磁盘清理相关控件不存在导致的配置加载异常

### UI 刷新修复
- 修复 ChipWidget 内部类缺少 `title_label` 属性的问题
- 语言切换后所有芯片标题和值都能正确更新

## 技术改进

### 新增模块
- `src/core/resume_manager.py` - 断点续传管理器
- `src/core/i18n.py` - 国际化模块（约800行翻译配置）

### 代码优化
- `_load_config()` 方法增加控件存在性检查
- `_refresh_ui_texts()` 方法实现动态UI文本刷新
- `ChipWidget` 类添加 `title_label` 属性支持

## 升级说明

从 v3.0.x 升级到 v3.1.0：
1. 直接替换可执行文件即可
2. 配置文件完全兼容，无需修改
3. 新增语言设置会保存到配置文件

## 文件结构

```
src/
├── core/
│   ├── i18n.py           # 新增：国际化模块
│   ├── resume_manager.py # 新增：断点续传管理器
│   └── ...
├── ui/
│   └── main_window.py    # 更新：多语言支持
└── ...
```
